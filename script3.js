const _0x5e2a7d=_0x384b;(function(_0x3d317e,_0x2089d4){const _0x5bbeb8=_0x384b,_0x5a6b31=_0x3d317e();while(!![]){try{const _0x4d1224=parseInt(_0x5bbeb8(0xcf))/0x1*(parseInt(_0x5bbeb8(0xae))/0x2)+-parseInt(_0x5bbeb8(0xe7))/0x3+-parseInt(_0x5bbeb8(0xbb))/0x4+-parseInt(_0x5bbeb8(0xdf))/0x5*(-parseInt(_0x5bbeb8(0xee))/0x6)+-parseInt(_0x5bbeb8(0x107))/0x7+-parseInt(_0x5bbeb8(0xd6))/0x8*(-parseInt(_0x5bbeb8(0xb8))/0x9)+parseInt(_0x5bbeb8(0xad))/0xa;if(_0x4d1224===_0x2089d4)break;else _0x5a6b31['push'](_0x5a6b31['shift']());}catch(_0x444788){_0x5a6b31['push'](_0x5a6b31['shift']());}}}(_0x1f63,0x563d6));const firebaseConfig={'apiKey':'AIzaSyCtHA-AzuHC-ttj1t-_htOTvAOgJqAiT7U','authDomain':_0x5e2a7d(0xc6),'databaseURL':_0x5e2a7d(0xe1),'projectId':_0x5e2a7d(0xfc),'storageBucket':_0x5e2a7d(0xfd),'messagingSenderId':_0x5e2a7d(0xed),'appId':'1:518658210219:web:2fd90f439345ec418bfaee','measurementId':'G-9PPVRK3SEV'};if(!firebase[_0x5e2a7d(0xb1)]['length'])try{firebase[_0x5e2a7d(0x101)](firebaseConfig);}catch(_0x417a1d){console[_0x5e2a7d(0xc9)](_0x5e2a7d(0xe3),_0x417a1d),alert('App\x20init\x20error.\x20Refresh\x20page.');}const database=firebase[_0x5e2a7d(0xe8)](),auth=firebase[_0x5e2a7d(0xe4)](),RATE_LIMIT={'MESSAGES':0x3,'PERIOD':0x2710};let messageCount=0x0,lastResetTime=Date[_0x5e2a7d(0xdc)]();const elements={'username':document[_0x5e2a7d(0xbe)](_0x5e2a7d(0xec)),'message':document['getElementById'](_0x5e2a7d(0xd1)),'sendBtn':document['getElementById']('sendButton'),'chat':document[_0x5e2a7d(0xbe)]('chatMessages')},ALLOWED_IMAGES={'XD01':_0x5e2a7d(0xf8),'XD02':_0x5e2a7d(0x111),'XD03':_0x5e2a7d(0xf6),'timur2':_0x5e2a7d(0x104),'XD04':_0x5e2a7d(0xf9)},speech={'supported':_0x5e2a7d(0xfb)in window,'voices':[],'irinaVoice':null,'init'(){const _0x2b8120=_0x5e2a7d;if(!this[_0x2b8120(0x110)])return;this['voices']=window[_0x2b8120(0xfb)]['getVoices'](),this[_0x2b8120(0xab)]=this[_0x2b8120(0xc5)][_0x2b8120(0x106)](_0x357d52=>_0x357d52['name'][_0x2b8120(0xba)](_0x2b8120(0xcb))||_0x357d52[_0x2b8120(0xef)]===_0x2b8120(0xd9)&&_0x357d52[_0x2b8120(0xc0)][_0x2b8120(0xba)](_0x2b8120(0xc8)))||this[_0x2b8120(0xc5)]['find'](_0x18e0d7=>_0x18e0d7[_0x2b8120(0xef)][_0x2b8120(0xba)]('ru')),window[_0x2b8120(0xfb)][_0x2b8120(0xf0)]=()=>this[_0x2b8120(0xce)]();}};speech[_0x5e2a7d(0xce)]();function sanitize(_0x1d1dda){const _0x58098c=_0x5e2a7d;return _0x1d1dda[_0x58098c(0xe0)](/</g,_0x58098c(0xf3))[_0x58098c(0xe0)](/>/g,'&gt;');}async function sendMessage(){const _0x1e45cc=_0x5e2a7d;try{const _0x4c85a1=Date['now']();_0x4c85a1-lastResetTime>RATE_LIMIT['PERIOD']&&(messageCount=0x0,lastResetTime=_0x4c85a1);if(messageCount>=RATE_LIMIT[_0x1e45cc(0xd0)]){alert(_0x1e45cc(0xeb)+Math[_0x1e45cc(0x10e)]((RATE_LIMIT[_0x1e45cc(0xbd)]-(_0x4c85a1-lastResetTime))/0x3e8)+'\x20sec.');return;}if(!elements[_0x1e45cc(0x112)]||!elements[_0x1e45cc(0xc1)]){console['error']('DOM\x20elements\x20not\x20found.'),alert(_0x1e45cc(0xfa));return;}const _0x3a7d4c=sanitize(elements[_0x1e45cc(0x112)]['value'][_0x1e45cc(0xd8)]()),_0x34fdba=sanitize(elements[_0x1e45cc(0xc1)][_0x1e45cc(0xf5)][_0x1e45cc(0xd8)]());if(!_0x3a7d4c||!_0x34fdba){alert(_0x1e45cc(0xc2));return;}if(_0x34fdba[_0x1e45cc(0xc7)]>0x1f4){alert(_0x1e45cc(0xda));return;}messageCount++;if(!database){console[_0x1e45cc(0xc9)](_0x1e45cc(0xca)),alert(_0x1e45cc(0x100));return;}await database[_0x1e45cc(0xf4)](_0x1e45cc(0x10a))[_0x1e45cc(0xd5)]()[_0x1e45cc(0xb2)]({'username':_0x3a7d4c,'message':_0x34fdba,'timestamp':Date[_0x1e45cc(0xdc)]()}),elements[_0x1e45cc(0xc1)]['value']='';}catch(_0x3306ce){console[_0x1e45cc(0xc9)](_0x1e45cc(0x116),_0x3306ce[_0x1e45cc(0xc1)],_0x3306ce[_0x1e45cc(0x103)]),alert(_0x1e45cc(0xb0));}}function _0x1f63(){const _0x5517db=['trim','ru-RU','Message\x20too\x20long\x20(max\x20500\x20chars)','chat_session','now','child_added','reload','5gsGRDT','replace','https://projectp-a0584-default-rtdb.firebaseio.com','chat','Firebase\x20init\x20error:','auth','getMinutes','entries','754086TKMaMF','database','click','cancel','Wait\x20','usernameInput','518658210219','2464734Ghlfcb','lang','onvoiceschanged','sendBtn','<img\x20src=\x22','&lt;','ref','value','dog.gif','getFullYear','xd2.svg','dalbaeb2.gif','Error:\x20Missing\x20input\x20fields.','speechSynthesis','projectp-a0584','projectp-a0584.appspot.com','val','<button\x20class=\x22strong\x22>Озвучить</button>','Error:\x20Database\x20not\x20connected.','initializeApp','padStart','stack','timur2.gif','getItem','find','4840913Gcaluo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-header\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>','pitch','messages','.strong','newValue','\x22\x20style=\x22max-width:200px;max-height:200px;\x22>','ceil','volume','supported','funny.svg','username','substring','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22message-time\x22>','voice','Send\x20error:','irinaVoice','createElement','2200000cxSARo','13954BglcBm','scrollTop','Error.\x20Try\x20again.','apps','set','orderByChild','getSeconds','</div>\x0a\x20\x20\x20\x20','appendChild','getMonth','4346253jzUIQZ','addEventListener','includes','1140024BxwLaJ','innerHTML','PERIOD','getElementById','\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22message-text\x22>','name','message','Enter\x20username\x20and\x20message.','scrollHeight','Render\x20error:','voices','projectp-a0584.firebaseapp.com','length','Microsoft','error','Firebase\x20database\x20not\x20initialized.','Irina','limitToLast','rate','init','67OeyZmp','MESSAGES','messageInput','storage','setItem','toString','push','8oPIpZl','timestamp'];_0x1f63=function(){return _0x5517db;};return _0x1f63();}function formatTime(_0x3a78fd){const _0x3a6bdf=_0x5e2a7d,_0x5c97ce=new Date(_0x3a78fd);return _0x5c97ce['getDate']()[_0x3a6bdf(0xd4)]()['padStart'](0x2,'0')+'.'+(_0x5c97ce[_0x3a6bdf(0xb7)]()+0x1)[_0x3a6bdf(0xd4)]()[_0x3a6bdf(0x102)](0x2,'0')+'.'+_0x5c97ce[_0x3a6bdf(0xf7)]()+'\x20'+_0x5c97ce['getHours']()[_0x3a6bdf(0xd4)]()['padStart'](0x2,'0')+':'+_0x5c97ce[_0x3a6bdf(0xe5)]()[_0x3a6bdf(0xd4)]()[_0x3a6bdf(0x102)](0x2,'0')+':'+_0x5c97ce[_0x3a6bdf(0xb4)]()[_0x3a6bdf(0xd4)]()[_0x3a6bdf(0x102)](0x2,'0');}function processText(_0x52cb24){const _0x1317b4=_0x5e2a7d;let _0x180494=sanitize(_0x52cb24);for(const [_0x43f977,_0x26cb03]of Object[_0x1317b4(0xe6)](ALLOWED_IMAGES)){_0x180494=_0x180494['replace'](new RegExp(_0x43f977,'g'),_0x1317b4(0xf2)+_0x26cb03+'\x22\x20alt=\x22'+_0x43f977+_0x1317b4(0x10d));}return _0x180494;}function _0x384b(_0xed91f6,_0x1e0268){const _0x1f63ee=_0x1f63();return _0x384b=function(_0x384b13,_0x1f5070){_0x384b13=_0x384b13-0xab;let _0x4dd478=_0x1f63ee[_0x384b13];return _0x4dd478;},_0x384b(_0xed91f6,_0x1e0268);}function speak(_0x4509a4){const _0x50002a=_0x5e2a7d;if(!speech[_0x50002a(0x110)])return;const _0xca5d2c=_0x4509a4[_0x50002a(0xe0)](/<[^>]*>|XD0[1-4]|timur2/g,'')[_0x50002a(0x113)](0x0,0x64);if(!_0xca5d2c)return;window[_0x50002a(0xfb)][_0x50002a(0xea)]();const _0x4cb5bd=new SpeechSynthesisUtterance(_0xca5d2c);_0x4cb5bd[_0x50002a(0xef)]=_0x50002a(0xd9),_0x4cb5bd[_0x50002a(0x115)]=speech[_0x50002a(0xab)]||null,_0x4cb5bd[_0x50002a(0xcd)]=0x1,_0x4cb5bd[_0x50002a(0x109)]=0x1,_0x4cb5bd[_0x50002a(0x10f)]=0x1,window['speechSynthesis']['speak'](_0x4cb5bd);}function renderMessage(_0x2ed304){const _0x212b8a=_0x5e2a7d;if(!_0x2ed304?.[_0x212b8a(0x112)]||!_0x2ed304?.[_0x212b8a(0xc1)])return;const _0x373af6=document[_0x212b8a(0xac)]('div');_0x373af6['className']=_0x212b8a(0xc1),_0x373af6[_0x212b8a(0xbc)]=_0x212b8a(0x108)+sanitize(_0x2ed304['username'])+_0x212b8a(0x114)+formatTime(_0x2ed304[_0x212b8a(0xd7)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(speech[_0x212b8a(0x110)]?_0x212b8a(0xff):'')+_0x212b8a(0xbf)+processText(_0x2ed304[_0x212b8a(0xc1)])+_0x212b8a(0xb5),speech['supported']&&_0x373af6['querySelector'](_0x212b8a(0x10b))[_0x212b8a(0xb9)]('click',()=>speak(_0x2ed304[_0x212b8a(0xc1)])),elements[_0x212b8a(0xe2)][_0x212b8a(0xb6)](_0x373af6),elements['chat'][_0x212b8a(0xaf)]=elements[_0x212b8a(0xe2)][_0x212b8a(0xc3)];}elements[_0x5e2a7d(0xf1)][_0x5e2a7d(0xb9)](_0x5e2a7d(0xe9),sendMessage),database[_0x5e2a7d(0xf4)](_0x5e2a7d(0x10a))[_0x5e2a7d(0xb3)](_0x5e2a7d(0xd7))[_0x5e2a7d(0xcc)](0x32)['on'](_0x5e2a7d(0xdd),_0x4f2607=>{const _0x5bc7ab=_0x5e2a7d;try{renderMessage(_0x4f2607[_0x5bc7ab(0xfe)]());}catch(_0x4b5a0e){console[_0x5bc7ab(0xc9)](_0x5bc7ab(0xc4),_0x4b5a0e);}}),window[_0x5e2a7d(0xb9)](_0x5e2a7d(0xd2),_0xb9c1db=>{const _0x44b959=_0x5e2a7d;_0xb9c1db['key']===_0x44b959(0xdb)&&_0xb9c1db[_0x44b959(0x10c)]!==localStorage[_0x44b959(0x105)](_0x44b959(0xdb))&&(alert('Another\x20session\x20detected'),location[_0x44b959(0xde)]());}),localStorage[_0x5e2a7d(0xd3)](_0x5e2a7d(0xdb),Date['now']()['toString']());
